<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Sim</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéÆ Case Sim</h1>
            <div class="user-panel">
                <span id="user-email">–ì–æ—Å—Ç—å</span>
                <button id="auth-btn" onclick="showAuth()">üîë –í–æ–π—Ç–∏</button>
                <button id="logout-btn" onclick="logout()" style="display:none">üö™ –í—ã–π—Ç–∏</button>
                <button id="admin-btn" onclick="adminPanel()" style="display:none">‚öôÔ∏è</button>
            </div>
        </header>

        <div class="stats">
            <div>üí∞ <span id="balance">0</span></div>
            <div>üéí <span id="inventory">0</span></div>
            <button onclick="showWithdraw()" class="withdraw-btn">üí∏ –í—ã–≤–µ—Å—Ç–∏</button>
        </div>

        <h2>–ö–µ–π—Å—ã</h2>
        <div id="cases" class="grid"></div>
        
        <h2>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
        <div id="inventory-list" class="grid"></div>

        <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
        <div id="auth-modal" class="modal">
            <div class="modal-content">
                <h3>–í—Ö–æ–¥/–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
                <input id="email" placeholder="Email">
                <input id="password" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
                <button onclick="login()">–í–æ–π—Ç–∏</button>
                <button onclick="register()">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                <button onclick="closeModal('auth-modal')">–û—Ç–º–µ–Ω–∞</button>
                <p id="auth-error"></p>
            </div>
        </div>

        <div id="preview-modal" class="modal">
            <div class="modal-content">
                <h3 id="preview-title"></h3>
                <p id="preview-price"></p>
                <div id="preview-items"></div>
                <button onclick="openCase()" id="open-btn">–û—Ç–∫—Ä—ã—Ç—å</button>
                <button onclick="closeModal('preview-modal')">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>

        <div id="withdraw-modal" class="modal">
            <div class="modal-content">
                <h3>–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h3>
                <p>–ë–∞–ª–∞–Ω—Å: <span id="withdraw-balance">0</span></p>
                <input id="withdraw-amount" type="number" min="1000" placeholder="–°—É–º–º–∞ (–º–∏–Ω 1000)">
                <input id="withdraw-tg" placeholder="@telegram">
                <button onclick="createWithdraw()">–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
                <button onclick="closeModal('withdraw-modal')">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>

        <div id="admin-modal" class="modal">
            <div class="modal-content">
                <h3>–ê–¥–º–∏–Ω</h3>
                <div id="admin-content">
                    <h4>–ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥</h4>
                    <div id="withdraw-list"></div>
                    <h4>–ù–æ–≤—ã–π –∫–µ–π—Å</h4>
                    <input id="case-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ">
                    <input id="case-price" placeholder="–¶–µ–Ω–∞">
                    <button onclick="createNewCase()">–°–æ–∑–¥–∞—Ç—å</button>
                    <button onclick="closeModal('admin-modal')">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
</body>
</html>