<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Sim</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-gamepad"></i> Case Sim</h1>
            <div class="user-info">
                <span id="user-email">–ì–æ—Å—Ç—å</span>
                <div class="balance">üí∞ <span id="balance">1000</span> ‚ÇΩ</div>
                <button id="auth-btn" onclick="showAuth()">–í–æ–π—Ç–∏</button>
                <button id="logout-btn" onclick="logout()" style="display:none">–í—ã–π—Ç–∏</button>
            </div>
        </header>

        <div class="tabs">
            <button class="tab active" onclick="showTab('cases')">–ö–µ–π—Å—ã</button>
            <button class="tab" onclick="showTab('inventory')">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
            <button class="tab" onclick="showTab('admin')" id="admin-tab" style="display:none">–ê–¥–º–∏–Ω</button>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ —Å –∫–µ–π—Å–∞–º–∏ -->
        <div id="cases-tab" class="tab-content active">
            <div class="cases-grid" id="cases-list">
                <!-- –ö–µ–π—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ —Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º -->
        <div id="inventory-tab" class="tab-content">
            <div class="inventory-grid" id="inventory-list">
                <!-- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ –∞–¥–º–∏–Ω–∫–∏ -->
        <div id="admin-tab" class="tab-content">
            <div class="admin-panel">
                <h3>–°–æ–∑–¥–∞—Ç—å –∫–µ–π—Å</h3>
                <input type="text" id="case-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–µ–π—Å–∞">
                <input type="number" id="case-price" placeholder="–¶–µ–Ω–∞">
                <button onclick="createCase()">–°–æ–∑–¥–∞—Ç—å</button>

                <h3>–°–æ–∑–¥–∞—Ç—å —Å–∫–∏–Ω</h3>
                <input type="text" id="skin-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–∏–Ω–∞">
                <input type="number" id="skin-price" placeholder="–¶–µ–Ω–∞">
                <button onclick="createSkin()">–°–æ–∑–¥–∞—Ç—å</button>

                <h3>–î–æ–±–∞–≤–∏—Ç—å —Å–∫–∏–Ω –≤ –∫–µ–π—Å</h3>
                <select id="case-select">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–µ–π—Å</option>
                </select>
                <select id="skin-select">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–∫–∏–Ω</option>
                </select>
                <input type="number" id="skin-chance" placeholder="–®–∞–Ω—Å (1-100)" min="1" max="100">
                <button onclick="addSkinToCase()">–î–æ–±–∞–≤–∏—Ç—å</button>

                <h3>–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å (—Ç–µ—Å—Ç)</h3>
                <select id="test-case">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∞</option>
                </select>
                <button onclick="testOpenCase()">–û—Ç–∫—Ä—ã—Ç—å</button>
                <div id="test-result"></div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
        <div id="auth-modal" class="modal">
            <div class="modal-content">
                <h3>–í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
                <input type="email" id="email" placeholder="Email">
                <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å">
                <button onclick="login()">–í–æ–π—Ç–∏</button>
                <button onclick="register()">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                <button onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
                <p id="auth-error"></p>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞ -->
        <div id="open-modal" class="modal">
            <div class="modal-content">
                <h3>–û—Ç–∫—Ä—ã—Ç–∏–µ –∫–µ–π—Å–∞</h3>
                <div id="roulette">
                    <div class="roulette-container">
                        <div class="roulette-items" id="roulette-items"></div>
                    </div>
                    <div class="roulette-center"></div>
                </div>
                <div id="win-result"></div>
                <button onclick="startRoulette()" id="spin-btn">–ö—Ä—É—Ç–∏—Ç—å</button>
                <button onclick="closeOpenModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
</body>
</html>